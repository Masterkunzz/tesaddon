<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Admin - Add Addon</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="admin-container">
<h2>Tambah Addon</h2>


<input type="text" id="name" placeholder="Nama Addon" />
<textarea id="desc" placeholder="Deskripsi"></textarea>
<input type="text" id="image" placeholder="Link Gambar" />
<input type="text" id="download" placeholder="Link Download" />


<button id="submit">Submit</button>
</div>


<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import {
getFirestore,
collection,
addDoc
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";


const firebaseConfig = {
apiKey: "",
authDomain: "",
projectId: "",
storageBucket: "",
messagingSenderId: "",
appId: ""
};


const app = initializeApp(firebaseConfig);
const db = getFirestore(app);


function makeSlug(text) {
return text
.toLowerCase()
.replace(/[^a-z0-9]+/g, "-")
.replace(/(^-|-$)/g, "");
}


document.getElementById("submit").onclick = async () => {
const name = document.getElementById("name").value;
const desc = document.getElementById("desc").value;
const image = document.getElementById("image").value;
const download = document.getElementById("download").value;


const slug = makeSlug(name);


await addDoc(collection(db, "addons"), {
name,
desc,
image,
downloadUrl: download,
slug
});


alert("Addon Berhasil Ditambahkan!");
};
</script>
</body>
</html>
